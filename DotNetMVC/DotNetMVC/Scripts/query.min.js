dojo._hasResource["dojox.json.query"]||(dojo._hasResource["dojox.json.query"]=!0,dojo.provide("dojox.json.query"),function(){dojox.json._slice=function(n,t,i,r){var u=n.length,e=[],f;for(i=i||u,t=t<0?Math.max(0,t+u):Math.min(u,t),i=i<0?Math.max(0,i+u):Math.min(u,i),f=t;f<i;f+=r)e.push(n[f]);return e};dojox.json._find=function(n,t){function u(n){var f,r;t&&(t!==!0||n instanceof Array?n[t]&&i.push(n[t]):i.push(n));for(f in n)r=n[f],t?r&&typeof r=="object"&&u(r):i.push(r)}var i=[],r;if(t instanceof Array){if(t.length==1)return n[t[0]];for(r=0;r<t.length;r++)i.push(n[t[r]])}else u(n);return i};dojox.json._distinctFilter=function(n,t){for(var i,u=[],e={},r=0,f=n.length;r<f;++r)i=n[r],t(i,r,n)&&(typeof i=="object"&&i?i.__included||(i.__included=!0,u.push(i)):e[i+typeof i]||(e[i+typeof i]=!0,u.push(i)));for(r=0,f=u.length;r<f;++r)u[r]&&delete u[r].__included;return u};dojox.json.query=function(_12,obj){function _15(n){_14=n+"("+_14}function _17(n,t,i,r,u,f,e,o){return str[o].match(/[\*\?]/)||e=="~"?"/^"+str[o].substring(1,str[o].length-1).replace(/\\([btnfr\\"'])|([^\w\*\?])/g,"\\$1$2").replace(/([\*\?])/g,"[\\w\\W]$1")+(e=="~"?"$/i":"$/")+".test("+t+")":n}var _13=0,str=[],_14,_1a,i;for(_12=_12.replace(/"(\\.|[^"\\])*"|'(\\.|[^'\\])*'|[\[\]]/g,function(n){return _13+=n=="["?1:n=="]"?-1:0,n=="]"&&_13>0?"`]":n.charAt(0)=='"'||n.charAt(0)=="'"?"`"+(str.push(n)-1):n}),_14="",_12.replace(/(\]|\)|push|pop|shift|splice|sort|reverse)\s*\(/,function(){throw new Error("Unsafe function call");}),_12=_12.replace(/([^=]=)([^=])/g,"$1=$2").replace(/@|(\.\s*)?[a-zA-Z\$_]+(\s*:)?/g,function(n){return n.charAt(0)=="."?n:n=="@"?"$obj":(n.match(/:|^(\$|Math|true|false|null)$/)?"":"$obj.")+n}).replace(/\.?\.?\[(`\]|[^\]])*\]|\?.*|\.\.([\w\$_]+)|\.\*/g,function(n,t,i){var r=n.match(/^\.?\.?(\[\s*\^?\?|\^?\?|\[\s*==)(.*?)\]?$/),u;return r?(u="",n.match(/^\./)&&(_15("dojox.json._find"),u=",true)"),_15(r[1].match(/\=/)?"dojo.map":r[1].match(/\^/)?"dojox.json._distinctFilter":"dojo.filter"),u+",function($obj){return "+r[2]+"})"):(r=n.match(/^\[\s*([\/\\].*)\]/),r)?".concat().sort(function(a,b){"+r[1].replace(/\s*,?\s*([\/\\])\s*([^,\\\/]+)/g,function(n,t,i){return"var av= "+i.replace(/\$obj/,"a")+",bv= "+i.replace(/\$obj/,"b")+";if(av>bv||bv==null){return "+(t=="/"?1:-1)+";}\nif(bv>av||av==null){return "+(t=="/"?-1:1)+";}\n"})+"return 0;})":(r=n.match(/^\[(-?[0-9]*):(-?[0-9]*):?(-?[0-9]*)\]/),r)?(_15("dojox.json._slice"),","+(r[1]||0)+","+(r[2]||0)+","+(r[3]||1)+")"):n.match(/^\.\.|\.\*|\[\s*\*\s*\]|,/)?(_15("dojox.json._find"),(n.charAt(1)=="."?",'"+i+"'":n.match(/,/)?","+n:"")+")"):n}).replace(/(\$obj\s*((\.\s*[\w_$]+\s*)|(\[\s*`([0-9]+)\s*`\]))*)(==|~)\s*`([0-9]+)/g,_17).replace(/`([0-9]+)\s*(==|~)\s*(\$obj\s*((\.\s*[\w_$]+)|(\[\s*`([0-9]+)\s*`\]))*)/g,function(n,t,i,r,u,f,e,o){return _17(n,r,u,f,e,o,i,t)}),_12=_14+(_12.charAt(0)=="$"?"":"$")+_12.replace(/`([0-9]+|\])/g,function(n,t){return t=="]"?"]":str[t]}),_1a=eval("1&&function($,$1,$2,$3,$4,$5,$6,$7,$8,$9){var $obj=$;return "+_12+"}"),i=0;i<arguments.length-1;i++)arguments[i]=arguments[i+1];return obj?_1a.apply(this,arguments):_1a}}());
//# sourceMappingURL=query.min.js.map
